{#
This file is part of EC-CUBE

Copyright(c) 2000-2015 LOCKON CO.,LTD. All Rights Reserved.

http://www.lockon.co.jp/

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
#}
{% extends 'default_frame.twig' %}

{% set body_class = 'product_page' %}
{% set bihin_contents = 'productWrap innerNone' %}
{% block main_title %}
    <p class="productTit">{{ breadcrumb }}</p>
{% endblock %}

{% block javascript %}
    <script type="text/javascript">
        // 商品表示BOXの高さを揃える
        // $(window).load(function() {
        //     $('.product_item').matchHeight();
        // });
        $(function(){
            $('#radio01').click(function() {
                if($('#product_img').css('display')==='block'){
                    return false;
                }else{
                    $('#product_list').css('display','none');
                    $('#product_img').css('display','block');
                }
            });
            $('#radio02').click(function() {
                if($('#product_list').css('display')==='block'){
                    return false;
                }else{
                    $('#product_img').css('display','none');
                    $('#product_list').css('display','block');
                }
            });

            $('.productViewBox a').click(function(){
                var _id = $(this).attr('href');
                $('.productViewBox a').removeClass('on');
                $(this).addClass('on');
                $('.tabBox').hide();
                $(_id).show();
                return false;
            });
        })
    </script>
{% endblock %}

{% block stylesheet %}
    <style type="text/css">
        .productList02 a img {
            width: 164px !important;
        }
    </style>
{% endblock %}

{% block main %}
    {% if search_form.category_id.vars.errors|length == 0 %}
        <form name="form1" id="form1" method="get" action="?">
            {{ form_widget(search_form) }}
        </form>
        <div class="innerNone">
            <div class="clearfix">
                <div class="productMain">
                    <div class="productTop visiblePC">
                        <ul class="productTopList">
                            <li>
                                <p class="productAllTit">商品は全部で<span class="tit">{{ pagination.totalItemCount|number_format }}</span>件あります</p>
                            </li>
                            <li>
                                <div class="productTab">
                                    <label for="radio01">
                                        <span class="input"><input type="radio" id="radio01" name="radio" class="productRadio" checked></span><img src="{{ app.config.front_urlpath }}/bihin-com/img/product/ico_imges.png" alt="">画像
                                    </label>
                                    <label for="radio02">
                                        <span class="input"><input type="radio" id="radio02" name="radio" class="productRadio"></span><img src="{{ app.config.front_urlpath }}/bihin-com/img/product/ico_list.png" alt="">リスト
                                    </label>
                                </div>
                            </li>
                            <li>
                                {# Sub pagination start #}
                                {% set pages = pagination.paginationData %}
                                {% if app.config.pageinrange  is defined %}
                                    {% set pageinrange  = app.config.pageinrange %}
                                {% else  %}
                                    {% set pageinrange  = false %}
                                {% endif %}
                                {% if pages.pageCount > 1 %}
                                    <p class="productPageNavi">
                                        {% if pages.previous is defined %}
                                            {% set page_num = pages.previous - 5 %}
                                            {% if page_num <= 1 %}
                                                {% set page_num = 1 %}
                                            {% endif %}
                                            <span class="navi">
                                                <a class="link01" href="{{ path(app.request.attributes.get('_route'), app.request.query.all|merge({'pageno': page_num})) }}"
                                                   aria-label="Previous"><span aria-hidden="true">過去5件</span></a>
                                            </span>
                                        {% endif %}

                                        {% if pageinrange and pages.firstPageInRange != 1 %}
                                            <span class="navi">...</span>
                                        {% endif %}

                                        {% for page in pages.pagesInRange %}
                                            <span class="navi">
                                    {% if page == pages.current %}
                                        <a class="link01 on" href="{{ path(app.request.attributes.get('_route'), app.request.query.all|merge({'pageno': page})) }}"> {{ page }} </a>
                                    {% else %}
                                        <a class="link01" href="{{ path(app.request.attributes.get('_route'), app.request.query.all|merge({'pageno': page})) }}"> {{ page }} </a>
                                    {% endif %}
                                    </span>
                                        {% endfor %}

                                        {% if pageinrange and pages.last != pages.lastPageInRange %}
                                            <span class="navi">...</span>
                                        {% endif %}

                                        {% if pageinrange and pages.last != pages.lastPageInRange %}
                                            {% set page_num = pages.current + 5 %}
                                            {% if page_num > pages.last %}
                                                {% set page_num = pages.last %}
                                            {% endif %}
                                            <span class="navi">
                                    <a class="link02" href="{{ path(app.request.attributes.get('_route'), app.request.query.all|merge({'pageno': page_num})) }}"
                                       aria-label="Last"><span aria-hidden="true">次の5件</span></a>
                                    </span>
                                        {% endif %}
                                    </p>
                                {% endif %}
                                {# Sub pagination end #}
                            </li>
                        </ul>
                    </div>
                    <div class="productSearch visiblePC">
                        <table class="proSearTable">
                            <tr>
                                <th><span class="maru">●</span>商品カテゴリー</th>
                                <td>
                                    <ul class="categoryList clearfix">
                                        <li>
                                            <div class="selectWrap">
                                                <select class="customSelect">
                                                    <option>指定ない</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="selectWrap">
                                                <select class="customSelect">
                                                    <option>指定ない</option>
                                                </select>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="selectWrap">
                                                <select class="customSelect">
                                                    <option>指定ない</option>
                                                </select>
                                            </div>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <th><span class="maru">●</span>価格</th>
                                <td>
                                    <ul class="priceList">
                                        <li>
                                            <div class="selectWrap">
                                                <select class="customSelect">
                                                    <option>指定ない</option>
                                                </select>
                                                円(税込)～
                                            </div>

                                        </li>
                                        <li>
                                            <div class="selectWrap">
                                                <select class="customSelect">
                                                    <option>指定ない</option>
                                                </select>
                                                円(税込)
                                            </div>

                                        </li>
                                    </ul>
                                </td>
                            </tr>
                            <tr>
                                <th><span class="maru">●</span>おすすめ</th>
                                <td>
                                    <ul class="recomList">
                                        <li>
                                            <label id="checkbox">
                                                <span class="checkbox"><input type="checkbox" id="checkbox" name="checkbox"></span><img src="{{ app.config.front_urlpath }}/bihin-com/img/product/ico_prorecom01.png" alt="">期間限定格
                                            </label>
                                        </li>
                                        <li>
                                            <label id="checkbox">
                                                <span class="checkbox"><input type="checkbox" id="checkbox" name="checkbox"></span><img src="{{ app.config.front_urlpath }}/bihin-com/img/product/ico_prorecom02.png" alt="">プレイスダワン商品
                                            </label>
                                        </li>
                                        <li>
                                            <label id="checkbox">
                                                <span class="checkbox"><input type="checkbox" id="checkbox" name="checkbox"></span><img src="{{ app.config.front_urlpath }}/bihin-com/img/product/ico_prorecom03.png" alt="">キャンページ中
                                            </label>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                        </table>

                        <div class="proSearBox clearfix">
                            <div class="proSearIn01">
                                <ul class="proSearList clearfix">
                                    <li>
                                        <div class="selectWrap">
                                            <select class="customSelect">
                                                <option>すべて</option>
                                            </select>
                                        </div>
                                    </li>
                                    <li>
                                        <input type="text" id="product" name="product" class="proSearTxt" placeholder="商品名やお申込番号、型番で検索">
                                    </li>
                                    <li>
                                        <input type="button" class="proSearBtn">
                                    </li>
                                </ul>
                            </div>
                            <div class="proSearIn02">
                                <div class="proConv" data-target=".proConvBox"><span class="search">便利な検索</span>
                                    <div class="proConvBox">
                                        <ul class="proConvList">
                                            <li><a href="#">注文履歴から探す</a></li>
                                            <li><a href="#">お気に入り商品から探す</a></li>
                                            <li><a href="#">おすすめ商品から探す</a></li>
                                            <li><a href="#">お悩みから探す</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="productLabel visiblePC">
                        <p class="proLableTit"><span class="tit">絞り込むタグを追加</span></p>
                        <p class="proLable"><a href="#">新商品</a><a href="#">お買い得</a><a href="#">ダウンロード商品</a><a href="#">当店限定</a><a href="#">人気商品</a><a href="#">ロングセラー</a></p>
                    </div>
                    <div class="visibleTS">
                        <div class="productCond">
                            <p class="productCondBtn">条件で絞り込む</p>
                            <div class="productCondBox">
                                <ul class="productCondList clearfix">
                                    <li><a href="#">カテゴリー</a></li>
                                    <li><a href="#">スベック</a></li>
                                    <li><a href="#">価格・メーカー名</a></li>
                                    <li><a href="#">お届け日・他</a></li>
                                </ul>
                                <p class="productCondTxt">選択中の絞り込み条件</p>
                                <p class="productCondRele"><a href="#">全ての絞込みを解除</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="visibleTS">
                        <div class="productView clearfix">
                            <p class="productAllTit">商品は全部で<span class="tit">5,000</span>件あります</p>
                            <div class="productViewBox">
                                <p class="img"><a href="#product_img" class="on">img</a></p>
                                <p class="list"><a href="#product_list">list</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="productIn">
                        <div class="productIn_img tabBox" id="product_img">
                            <ul class="productList01 clearfix">
                                {% for Product in pagination %}
                                    <li>
                                        <div class="productBox">
                                            <div class="biggerlink">
                                                <p class="productImg"><img src="{{ app.config.image_save_urlpath }}/{{ Product.main_list_image|no_image_product }}" alt=""></p>
                                                <p class="hlg01 productName01"><a href="{{ url('product_detail', {'id': Product.id}) }}">{{ Product.name }}</a></p>
                                            </div>
                                            <p class="productNote01 visiblePC">型番：{{ Product.getCodeMin }}</p>
                                            <p class="productPrice01">
                                                <span class="txt01 visibleTS">販売価格：</span>
                                                <span class="txt02">{{ Product.getPrice02IncTaxMin|price }}〜</span>（税抜き）
                                            </p>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="productIn_list tabBox" id="product_list">
                            <ul class="productList02">
                                {% for Product in pagination %}
                                    <li>
                                        <div class="productBox">
                                            <dl class="clearfix">
                                                <dt><a href="{{ url('product_detail', {'id': Product.id}) }}"><img src="{{ app.config.image_save_urlpath }}/{{ Product.main_list_image|no_image_product }}" alt=""></a></dt>
                                                <dd>
                                                    <p class="productName02"><a href="{{ url('product_detail', {'id': Product.id}) }}">パイロット ホワイトボードマーカー ボードマスター専用カートリッジ P-WMRF8-B 黒 </a></p>
                                                    <p class="productNote02 visiblePC">型番：{{ Product.getCodeMin }}</p>
                                                    <p class="productPrice02">販売価格：<span class="txt">{{ Product.getPrice02IncTaxMin|price }}〜</span>（税抜き）</p>
                                                    <p class="productDesc">{{ Product.description_list|raw|nl2br }}</p>
                                                </dd>
                                            </dl>
                                        </div>
                                    </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    <div class="productInNavi">
                        {% if pagination.totalItemCount > 0 %}
                            {% include "pagination.twig" with { 'pages' : pagination.paginationData } %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        <!-- ▲item_list▲ -->
    {% else %}
        <p class="errormsg text-danger">ご指定のカテゴリは存在しません。</p>
    {% endif %}
{% endblock %}
